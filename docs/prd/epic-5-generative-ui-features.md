# Epic 5: Generative UI Features

**Goal**: Leverage Vercel AI SDK's generative UI capabilities (`streamUI`, RSC integration) to render interactive React components directly from AI responses. Instead of text-only suggestions, AI returns actionable widgets, smart cards, and dynamic forms that users can interact with. This epic delivers the "wow factor" portfolio differentiator.

## Story 5.1: Setup AI SDK RSC Integration

As a **developer**,
I want **AI SDK's React Server Components integration configured**,
so that **AI can return renderable React components instead of just text**.

**Acceptance Criteria**:
1. `ai/rsc` package imported and configured in Server Actions
2. `streamUI` function tested with simple component return (e.g., custom card)
3. Server Actions can serialize React components to client
4. Client receives and renders server-generated components in chat
5. Component props are type-safe with Zod validation
6. Error boundaries wrap AI-generated components to prevent crashes
7. Loading states handled during component streaming

## Story 5.2: Create Smart Suggestion Cards Component

As a **user**,
I want **AI suggestions to appear as interactive cards with "Apply" buttons**,
so that **I can quickly implement improvements without typing or copy-pasting**.

**Acceptance Criteria**:
1. `SuggestionCard` component created with title, description, preview, and "Apply" action
2. AI can generate suggestion cards using `streamUI` for improvements (e.g., "Add quantified achievements")
3. Clicking "Apply" executes tool call to update CV section
4. Card shows before/after preview of suggested change
5. Multiple suggestion cards can appear in single AI response
6. Dismiss button allows user to ignore suggestion
7. Applied suggestions marked with checkmark and disabled

## Story 5.3: Implement Template Recommendation Widget

As a **user**,
I want **AI to recommend templates based on my industry/role with visual previews**,
so that **I can see which template suits my needs without manually browsing**.

**Acceptance Criteria**:
1. `TemplateRecommendation` component shows template preview thumbnail, name, and "Use Template" button
2. AI analyzes user's CV content (industry, role, experience level) and generates template recommendation widget
3. Component displays 1-3 template cards with reasons for recommendation
4. Clicking "Use Template" switches CV to selected template with confirmation dialog
5. Recommendation includes industry-specific reasoning (e.g., "Creative template fits your design portfolio")
6. Widget appears in chat as interactive component, not text
7. Template switch preserves all CV content, only changes visual design

## Story 5.4: Build ATS Quick Fix Widget

As a **user**,
I want **ATS issues to appear as actionable fix cards**,
so that **I can resolve compatibility problems with one click instead of manual editing**.

**Acceptance Criteria**:
1. `ATSFixCard` component shows issue severity (high/medium/low), description, and "Fix" button
2. AI generates fix cards for common ATS issues: missing keywords, formatting problems, length issues
3. Each card shows impact estimate: "This fix will improve your ATS score by ~8%"
4. Clicking "Fix" applies change to CV and deducts appropriate credits
5. Multiple fix cards can be batched: "Apply All Fixes" button available
6. Fixed issues marked with green checkmark
7. Widget integrates with ATS analysis results (Epic 7 dependency acknowledged)

## Story 5.5: Create Dynamic Form Generation for Job-Specific Content

As a **user**,
I want **AI to generate custom input forms based on job posting requirements**,
so that **I can efficiently add relevant experience that matches the job description**.

**Acceptance Criteria**:
1. `DynamicForm` component generated by AI with fields specific to job requirements
2. User pastes job posting → AI analyzes → returns form with fields like "Python experience", "Team leadership examples", "AWS certifications"
3. Form fields pre-populated with suggestions from existing CV content
4. Submitting form adds/updates CV sections with validated data
5. Form includes helpful placeholders and examples for each field
6. Zod schema validates form inputs before submission
7. Form generation costs credits (5 credits) and shows preview before user fills it

## Story 5.6: Implement Interactive Comparison Table for Job Matching

As a **user**,
I want **job compatibility analysis displayed as an interactive table**,
so that **I can visualize how my CV aligns with job requirements at a glance**.

**Acceptance Criteria**:
1. `ComparisonTable` component shows: Required Skill | Your Experience | Match Status | Action
2. AI generates table by comparing job requirements with CV content
3. Match status shown as: ✓ Strong Match, ~ Partial Match, ✗ Missing
4. Action column has context-specific buttons: "Highlight Skill", "Add to CV", "Rewrite"
5. Table is sortable by match status and filterable by skill category
6. Overall compatibility score shown at top with progress bar
7. Clicking actions updates CV and reflects changes in real-time preview

---
